(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}n.r(t);var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"webgl",value:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}},{key:"getWebGLErrorMessage",value:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n"),e}},{key:"addGetWebGLMessage",value:function(e){var t,n,a;t=void 0!==(e=e||{}).parent?e.parent:document.body,n=void 0!==e.id?e.id:"oldie",(a=this.getWebGLErrorMessage()).id=n,t.appendChild(a)}}])&&a(t.prototype,n),i&&a(t,i),e}();function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._loading=t.getElementById("loading"),this._saveStyle()}var t,n,a;return t=e,(n=[{key:"_saveStyle",value:function(){this._old_style=this._loading.style.display}},{key:"hideLoading",value:function(){this._saveStyle(),this._loading.style.display="none"}},{key:"showLoading",value:function(){this._loading.style.display=this._old_style}}])&&o(t.prototype,n),a&&o(t,a),e}(),s=n(0),l=n(2);n(11);function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var d=function(){function e(t,n,a){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=n,this.container=a,this.threeRenderer=new s.Sb({antialias:!0}),this.threeRenderer.setClearColor(n.fog.color),this.threeRenderer.setPixelRatio(window.devicePixelRatio),a.appendChild(this.threeRenderer.domElement),this.threeRenderer.shadowMap.enabled=!0,this.threeRenderer.shadowMap.type=s.hb,t.maxAnisotropy=this.threeRenderer.capabilities.getMaxAnisotropy(),this.updateSize(),this.threeRenderer.outputEncoding=s.Tb,this.threeRenderer.xr.enabled=!0,document.body.appendChild(l.a.createButton(this.threeRenderer)),document.addEventListener("DOMContentLoaded",(function(){return i.updateSize()}),!1),window.addEventListener("resize",(function(){return i.updateSize()}),!1)}var t,n,a;return t=e,(n=[{key:"updateSize",value:function(){this.threeRenderer.setSize(this.container.offsetWidth,this.container.offsetHeight)}},{key:"render",value:function(e,t){this.threeRenderer.render(e,t)}}])&&c(t.prototype,n),a&&c(t,a),e}();function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var h=function(){function e(t,n){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=n.domElement.width,o=n.domElement.height;this.threeCamera=new s.ib(t.camera.fov,i/o,t.camera.near,t.camera.far),this.threeCamera.position.set(t.camera.posX,t.camera.posY,t.camera.posZ),this.threeCamera.lookAt(0,0,0),this.updateSize(n),window.addEventListener("resize",(function(){return a.updateSize(n)}),!1)}var t,n,a;return t=e,(n=[{key:"updateSize",value:function(e){this.threeCamera.aspect=e.domElement.width/e.domElement.height,this.threeCamera.updateProjectionMatrix()}}])&&u(t.prototype,n),a&&u(t,a),e}(),m=n(3);function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var g=function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.threeControls=new m.a(n,a),this.init(t)}var t,n,a;return t=e,(n=[{key:"init",value:function(e){this.threeControls.target.set(e.controls.target.x,e.controls.target.y,e.controls.target.z),this.threeControls.autoRotate=e.controls.autoRotate,this.threeControls.autoRotateSpeed=e.controls.autoRotateSpeed,this.threeControls.rotateSpeed=e.controls.rotateSpeed,this.threeControls.zoomSpeed=e.controls.zoomSpeed,this.threeControls.minDistance=e.controls.minDistance,this.threeControls.maxDistance=e.controls.maxDistance,this.threeControls.minPolarAngle=e.controls.minPolarAngle,this.threeControls.maxPolarAngle=e.controls.maxPolarAngle,this.threeControls.enableDamping=e.controls.enableDamping,this.threeControls.enableZoom=e.controls.enableZoom,this.threeControls.dampingFactor=e.controls.dampingFactor}}])&&f(t.prototype,n),a&&f(t,a),e}(),v=(n(8),n(1)),y=n(6),p=n(4),b=n(5);function w(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw o}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var x=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};C(this,e),this._container=t,this._config=Object.assign({fog:{color:5263440,near:8e-4},camera:{fov:60,near:.001,far:1e3,aspect:1,posX:0,posY:1.8,posZ:3.2},controls:{autoRotate:!1,autoRotateSpeed:-.5,rotateSpeed:.5,zoomSpeed:.8,minDistance:.01,maxDistance:600,minPolarAngle:Math.PI/5,maxPolarAngle:Math.PI/2,minAzimuthAngle:-1/0,maxAzimuthAngle:1/0,enableDamping:!0,dampingFactor:.5,enableZoom:!0,target:{x:0,y:1.8,z:0}},scene:[{url:"assets/interior/small_apartment_design_vr_2018/scene.gltf",size:{x:.01,y:.01,z:.01},translate:{x:0,y:0,z:0},animated:!1},{url:"assets/claudia/mixamo-1613450024492.glb",size:{x:.01,y:.01,z:.01},translate1:{x:-6,y:-.55,z:6.5},translate:{x:1,y:0,z:-1.6},animated:!0,animatedCycle:[{animation:"idle",time:2},{animation:"pointing"},{speed:1,animation:"walk"},{animation:"gesture"}]}],isDev:!0},n),this._config.isDev&&console.log(this._config)}var t,n,a;return t=e,(n=[{key:"start",value:function(){var e=this._config;this._scene=this.createScene(e);var t=this._scene;this._renderer=new d(e,t,this._container),this._camera=new h(e,this._renderer.threeRenderer),this._controls=new g(e,this._camera.threeCamera,this._container);var n=new s.a(4210752,3);t.add(n);var a,i=w(e.scene);try{for(i.s();!(a=i.n()).done;){var o=a.value;this.loadScene(o,t)}}catch(e){i.e(e)}finally{i.f()}}},{key:"run",value:function(){this.render()}},{key:"createScene",value:function(e){var t=new s.wb;return window.devicePixelRatio&&(e.dpr=window.devicePixelRatio),t.fog=new s.v(e.fog.color,e.fog.near),t}},{key:"render",value:function(){this._renderer.render(this._scene,this._camera.threeCamera),this._controls.threeControls.update();var e=(Date.now()-this._lastframe)/1e3;if(void 0!==this._animatedCycle){var t=this._animatedCycle[this._animatedCyclePos],n=t.time;null==n&&(n=this._getDuration());var a=1e3*n,i=Date.now();if(void 0!==t.speed){var o=e*t.speed;this._action_figure.translateZ(o)}i-this._lastAnimationPhase>a&&(this._getAnimation().fadeOut(.4),this._animatedCyclePos=this._animatedCyclePos+1,this._animatedCyclePos>this._animatedCycle.length-1&&(this._animatedCyclePos=0),this._lastAnimationPhase=i,this._getAnimation().reset().setEffectiveTimeScale(1).setEffectiveWeight(1).fadeIn(.4).play(),console.log(this._animatedCyclePos))}void 0!==this._mixer&&this._mixer.update(e),this._lastframe=Date.now(),requestAnimationFrame(this.render.bind(this))}},{key:"loadScene",value:function(e,t){var n=e.url.toLowerCase();n.endsWith("gltf")||n.endsWith("glb")?this._loadGLTF(e,t):n.endsWith("fbx")?this._loadFBX(e,t):n.endsWith("vrm")?this._loadVRM(e,t):n.endsWith("bvh")?this._loadBVH(e,t):console.log("Unknown format! "+n)}},{key:"_loadBVH",value:function(e,t){var n=this;(new p.a).load(e.scene.url,(function(a){console.log(a);var i=new s.zb(a.skeleton.bones[0]);i.skeleton=a.skeleton;var o=new s.y;o.add(a.skeleton.bones[0]),t.add(n._resizeObject(e.scene.size,i)),t.add(n._resizeObject(e.scene.size,o));var r=new s.c(i);r.clipAction(a.clip).setEffectiveWeight(1).play(),n._setMixer(r)}))}},{key:"_loadVRM",value:function(e,t){(new v.a).load(e.scene.url,(function(e){b.a.from(e).then((function(e){console.log(e.meta),t.add(e.scene),console.log(e)}))}),(function(e){return console.log("Loading model...",e.loaded/e.total*100,"%")}),(function(e){return console.error(e)}))}},{key:"_fixObject",value:function(e,t){return t.translateX(e.x),t.translateY(e.y),t.translateZ(e.z),t}},{key:"_resizeObject",value:function(e,t){var n=(new s.g).setFromObject(t).getSize(new s.Pb);return Math.max(n.x,n.y,n.z),Math.max(e.x,e.y,e.z),t.scale.set(e.x,e.y,e.z),t}},{key:"_loadFBX",value:function(e,t){var n=new y.a,a=this;n.load(e.scene.url,(function(n){var i=new s.zb(n);i.visible=!0,t.add(i);var o=new s.c(n);console.log(n.animations),o.clipAction(n.animations[0]).play(),n.traverse((function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0)})),t.add(a._resizeObject(e.scene.size,n)),a._setMixer(o)}))}},{key:"_loadGLTF",value:function(e,t){var n=new v.a,a=this._processScene,i=(this._searchAnimations,this);n.load(e.url,(function(n){var o=a(n.scene);if(e.animated){var r=new s.zb(o);r.visible=!1,t.add(r);var l=new s.c(n.scene);i._mixer=l,i.bones=[];var c=n.animations;console.log(c);var d=l.clipAction(c[6]),u=l.clipAction(c[0]),h=l.clipAction(c[8]),m=l.clipAction(c[4]),f=l.clipAction(c[10]),g=l.clipAction(c[12]);i.durations=[],i.durations.pointing=c[6].duration,i.durations.gesture=c[0].duration,i.durations.walk=c[10].duration,i.durations.startWalk=c[8].duration,i.durations.endWalk=c[4].duration,i.durations.idle=c[12].duration,i.animations=[],i.animations.pointing=d,i.animations.gesture=u,i.animations.startWalk=h,i.animations.endWalk=m,i.animations.walk=f,i.animations.idle=g;var v=e.animatedCycle;void 0!==v&&(i._lastAnimationPhase=Date.now(),i._animatedCycle=v,i._animatedCyclePos=0,i.animations[v[i._animatedCyclePos].animation].play())}i._action_figure=i._fixObject(e.translate,i._resizeObject(e.size,o)),t.add(i._action_figure)}),void 0,(function(e){console.error(e)}))}},{key:"_searchAnimations",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._searchAnimations;void 0!==e&&void 0!==e.children&&e.children.forEach((function(e){var n=e.animations;void 0!==n&&console.log(n),t(e,t)}))}},{key:"_processScene",value:function(e){var t=e,n=(new s.g).setFromObject(t),a=n.getCenter(new s.Pb),i=n.getSize(new s.Pb),o=Math.max(i.x,i.y,i.z);return t.scale.multiplyScalar(1.8/o),n.setFromObject(t),n.getCenter(a),n.getSize(i),t.position.copy(a).multiplyScalar(-1),t.position.y+=.5*i.y,e}},{key:"_setMixer",value:function(e){this._mixer=e}},{key:"_getAnimation",value:function(){return this.animations[this._getAnimationName()]}},{key:"_getDuration",value:function(){return this.durations[this._getAnimationName()]}},{key:"_getAnimationName",value:function(){return this._animatedCycle[this._animatedCyclePos].animation}}])&&k(t.prototype,n),a&&k(t,a),e}();n(9);console.log("Start sequor.edu");var z=new i,S=new r(document);if(z.webgl()){var A=new x(document.getElementById("appContainer"));A.start(),S.hideLoading(),A.run()}else S.hideLoading(),z.addGetWebGLMessage({parent:document.getElementById("appContainer"),id:"webgl-error"})},7:function(e,t,n){e.exports=n(10)},9:function(e,t,n){}},[[7,1,2]]]);